import{a as N,b as v,c as k,d as D,e as O,f as C,g as T,h as G,i as j,m as A}from"./chunk-O2GVKUND.js";import{c as h}from"./chunk-WQZVWATI.js";import{d as M,e as P}from"./chunk-FIXGM7CA.js";import"./chunk-XIAVSE5S.js";import"./chunk-337TLXEY.js";import{$a as r,Ba as o,D as _,Oa as u,Sa as c,Ta as g,Va as f,X as p,Z as S,Za as t,_a as i,bb as x,cb as b,gb as l,ib as w,jb as F,kb as y,xb as L,zb as E}from"./chunk-MGJER5G2.js";import"./chunk-2VMXMS7J.js";function V(n,m){if(n&1&&(t(0,"div",3),l(1),i()),n&2){let a=b();o(),w(" ",a.authState().message," ")}}function q(n,m){n&1&&(t(0,"div",9),r(1,"div",12),t(2,"span"),l(3,"Acessando..."),i()())}function I(n,m){n&1&&(t(0,"span"),l(1,"Acessar"),i())}var R=class n{authStore=p(h);authState=this.authStore.authState;router=p(M);isLoading=L(()=>this.authState().state==="loading");loginForm=new O({username:new C("",[v.required]),password:new C("",[v.required])});constructor(){this.authStore.isLogged()&&this.router.navigateByUrl("/"),E(()=>{this.isLoading()?this.loginForm.disable():this.loginForm.enable()})}onLogin(){this.loginForm.valid&&this.authStore.login(this.loginForm.value).pipe(_(1)).subscribe()}static \u0275fac=function(a){return new(a||n)};static \u0275cmp=S({type:n,selectors:[["app-login"]],standalone:!0,features:[F([h]),y],decls:19,vars:9,consts:[[1,"login-wrapper","bg-black","text-white","gap-3",3,"formGroup"],[1,"login-container"],["height","60","width","80%","src","static/icons/logo.png",1,"align-self-center"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"login-form"],[1,"d-flex","flex-column","gap-2"],["type","text","placeholder","usu\xE1rio","formControlName","username",1,"form-control"],["type","password","autocomplete","on","formControlName","password","placeholder","senha",1,"form-control"],["type","button",1,"btn","btn-secondary","px-5","text-center",3,"click","disabled"],[1,"d-flex","align-items-center","justify-content-center","gap-2"],["routerLink","/",1,"d-flex","justify-content-center","align-items-center","gap-2","text-white-50"],[1,"bi","bi-arrow-return-left"],["role","status",1,"spinner-border","text-light"]],template:function(a,e){if(a&1&&(t(0,"form",0)(1,"div",1),r(2,"img",2),u(3,V,2,1,"div",3),t(4,"div",4)(5,"label",5)(6,"span"),l(7,"Usu\xE1rio"),i(),r(8,"input",6),i(),t(9,"label",5)(10,"span"),l(11,"Senha"),i(),r(12,"input",7),i(),t(13,"button",8),x("click",function(){return e.onLogin()}),u(14,q,4,0,"div",9)(15,I,2,0,"span"),i(),t(16,"a",10),r(17,"i",11),l(18," Tela de in\xEDcio "),i()()()()),a&2){let s,d;c("formGroup",e.loginForm),o(3),f(e.authState().message?3:-1),o(5),g("is-invalid",((s=e.loginForm.get("username"))==null?null:s.touched)&&((s=e.loginForm.get("username"))==null?null:s.invalid)),o(4),g("is-invalid",((d=e.loginForm.get("password"))==null?null:d.touched)&&((d=e.loginForm.get("password"))==null?null:d.invalid)),o(),c("disabled",e.loginForm.invalid)("disabled",e.isLoading()),o(),f(e.isLoading()?14:15)}},dependencies:[P,A,T,N,k,D,G,j],styles:["[_nghost-%COMP%]   .login-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100dvh;width:100dvw}[_nghost-%COMP%]   .login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:300px;gap:1rem}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:1rem}"]})};export{R as LoginComponent};
