import{a as u}from"./chunk-YMG7CMKX.js";import{a as G}from"./chunk-JJEFE7SA.js";import{b as S}from"./chunk-2YJ3FLSX.js";import"./chunk-ODSXTPVL.js";import"./chunk-4IFBPCWC.js";import{c as W,d as J,e as U,f as q}from"./chunk-JLEYIN34.js";import"./chunk-ANSMRTUX.js";import{$ as L,$a as m,Ba as a,D as k,Da as F,Ha as E,Ja as A,Mb as N,Oa as _,Sa as l,Ta as D,Va as f,Wa as v,X as c,Xa as P,Ya as O,Z as y,Za as i,_a as o,ab as z,bb as M,cb as b,db as s,ga as C,ha as x,hb as R,ib as d,jb as I,kb as w,lb as g,mb as V,nb as $,ob as j,pb as B,ya as T}from"./chunk-6VFV3J45.js";import"./chunk-2VMXMS7J.js";var h=class e{templateRef=c(F);viewContainer=c(E);authStore=c(u);permissions=[];set appPermissions(n){this.permissions=n,this.validate()}validate(){let n=this.authStore.permission();this.permissions&&this.permissions.includes(n)?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()}static \u0275fac=function(t){return new(t||e)};static \u0275dir=L({type:e,selectors:[["","appPermissions",""]],inputs:{appPermissions:"appPermissions"},standalone:!0,features:[g([u])]})};var Q=e=>({exact:e}),X=()=>({exact:!1});function Y(e,n){e&1&&(i(0,"a",6)(1,"span"),d(2,"Login"),o()())}function Z(e,n){if(e&1){let t=M();i(0,"div",7)(1,"span",9),d(2),o(),i(3,"button",10),b("click",function(){C(t);let p=s();return x(p.onLogout())}),d(4," sair "),m(5,"i",11),o()()}if(e&2){let t,r=s();a(2),I((t=r.auth())==null?null:t.username)}}function ee(e,n){if(e&1&&(i(0,"a",14),m(1,"img",15),i(2,"span"),d(3),o()()),e&2){let t=s().$implicit;l("routerLinkActiveOptions",j(4,Q,t.path==="/"))("routerLink",t.path),a(),l("src","static/icons/"+t.icon,T),a(2),w(" ",t.label," ")}}function te(e,n){if(e&1&&(i(0,"a",16)(1,"span"),d(2),o()()),e&2){let t,r=s().$implicit,p=s(2).$implicit;l("routerLinkActiveOptions",$(3,X))("routerLink",p.path==null||(t=p.path.concat("/"))==null?null:t.concat(r.path)),a(2),w(" ",r.label," ")}}function ne(e,n){if(e&1&&_(0,te,3,4,"a",17),e&2){let t=s(2).$implicit;l("appPermissions",t.permissions)}}function ie(e,n){if(e&1&&P(0,ne,1,1,"a",16,v),e&2){let t=s().$implicit;O(t.submenus)}}function oe(e,n){if(e&1&&(i(0,"div",12),_(1,ee,4,6,"a",13)(2,ie,2,0),o()),e&2){let t=n.$implicit,r=s(2);a(),l("appPermissions",t.permissions),a(),f(t.submenus&&r.isSamePath(t.path)?2:-1)}}function re(e,n){if(e&1&&P(0,oe,3,2,"div",12,v),e&2){let t=s();O(t.menus())}}var H=class e{menuService=c(G);authStore=c(u);router=c(J);modalService=c(S);menus=this.menuService.menus;auth=this.authStore.auth();permissions=this.authStore.permission;showMenu=A(!1);onScreenSizeFn=this.onScreenSize.bind(this);constructor(){window.addEventListener("resize",this.onScreenSizeFn),this.showMenu.set(!(window.innerWidth<992))}onLogout(){this.modalService.openConfirmation({title:"Confirma\xE7\xE3o",message:"Deseja, realmente, sair do sistema?"}).afterClose.pipe(k(1)).subscribe(n=>n&&this.authStore.logout())}isSamePath(n){return this.router.url.split("/").includes(n.replace("/",""))}onOpenSideMenu(){this.showMenu.update(()=>!this.showMenu())}onScreenSize(n){this.showMenu.set(!(window.innerWidth<992))}ngOnDestroy(){window.removeEventListener("resize",this.onScreenSizeFn)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=y({type:e,selectors:[["app-container"]],standalone:!0,features:[g([u,S]),V],decls:14,vars:4,consts:[["menuList",""],[1,"d-flex","align-items-center"],[1,"btn","icon-menu","text-white",3,"click"],[1,"bi","bi-list","fs-3"],["src","static/icons/logo.png",1,"logo"],[1,"login-wrapper","bg-opacity-50"],["routerLink","login",1,"link-login"],[1,"d-flex","align-items-center","gap-lg-3","flex-column","flex-lg-row"],[3,"ngTemplateOutlet"],[1,"text-white-50"],[1,"btn","link-login","d-flex","gap-1","w-100","px-2","bg-transparent","text-white",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"d-flex","flex-column"],["routerLinkActive","active",3,"routerLinkActiveOptions","routerLink",4,"appPermissions"],["routerLinkActive","active",3,"routerLinkActiveOptions","routerLink"],["height","30",3,"src"],["routerLinkActive","active",1,"submenu",3,"routerLinkActiveOptions","routerLink"],["class","submenu","routerLinkActive","active",3,"routerLinkActiveOptions","routerLink",4,"appPermissions"]],template:function(t,r){if(t&1){let p=M();i(0,"header")(1,"div",1)(2,"button",2),b("click",function(){return C(p),x(r.onOpenSideMenu())}),m(3,"i",3),o(),m(4,"img",4),o(),i(5,"div",5),_(6,Y,3,0,"a",6)(7,Z,6,1,"div",7),o()(),i(8,"aside"),z(9,8),o(),i(10,"main"),m(11,"router-outlet"),o(),_(12,re,2,0,"ng-template",null,0,B)}if(t&2){let p=R(13);a(6),f(r.auth()?7:6),a(2),D("hide",!r.showMenu()),a(),l("ngTemplateOutlet",p)}},dependencies:[W,U,q,h,N],styles:['[_nghost-%COMP%]{display:grid;grid-template-areas:"header header" "side main";grid-template-rows:auto;grid-template-columns:250px calc(100% - 250px);grid-template-rows:80px calc(100dvh - 80px);transition:all .1s ease-in-out}[_nghost-%COMP%]:has(aside[class=hide]){grid-template-columns:0 100dvw}[_nghost-%COMP%] > aside[_ngcontent-%COMP%]{background-color:#e6e6e6;grid-area:side;display:flex;flex-direction:column;border-right:1px solid #ced4da}[_nghost-%COMP%] > aside[class=hide][_ngcontent-%COMP%]{display:none;width:0}[_nghost-%COMP%] > aside[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;height:fit-content;border-inline:4px solid transparent}[_nghost-%COMP%] > aside[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover:not(.active){background-color:#f4f4f4;cursor:pointer}[_nghost-%COMP%] > aside[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a.submenu[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding-left:3rem}[_nghost-%COMP%] > aside[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a.submenu[_ngcontent-%COMP%]:is(.active){background-color:#d4d4d4;border-right-color:#6c757d!important}[_nghost-%COMP%] > aside[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#c4c4c4;cursor:inherit;border-right-color:#212529!important}[_nghost-%COMP%] > header[_ngcontent-%COMP%]{background-color:#282828;grid-area:header;grid-column:span 2;display:flex;align-items:center;justify-content:space-between;padding-inline:1rem;position:relative}[_nghost-%COMP%] > header[_ngcontent-%COMP%]:before{content:"asdfas";width:100%;position:absolute;box-shadow:0 7px 11px -2px #000000a3;-webkit-box-shadow:0px 7px 11px -2px rgba(0,0,0,.64);-moz-box-shadow:0px 7px 11px -2px rgba(0,0,0,.64);bottom:0;left:0}[_nghost-%COMP%] > header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}@media (min-width: 992px){[_nghost-%COMP%] > header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:60px}}[_nghost-%COMP%] > header[_ngcontent-%COMP%]   .link-login[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:80px;height:40px;border-radius:8px;background-color:#e6e6e680}[_nghost-%COMP%] > header[_ngcontent-%COMP%]   .icon-menu[_ngcontent-%COMP%]{display:block;width:fit-content}[_nghost-%COMP%] > main[_ngcontent-%COMP%]{padding:1rem;grid-area:main;overflow-y:auto}']})};export{H as ContainerComponent};
