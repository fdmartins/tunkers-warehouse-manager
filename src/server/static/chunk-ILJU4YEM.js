import{a as I}from"./chunk-AZYVGLQ2.js";import{b as k}from"./chunk-2YJ3FLSX.js";import{b as D}from"./chunk-CDS4NZAX.js";import{b as N}from"./chunk-5WPFLISJ.js";import"./chunk-ZQFK667Q.js";import"./chunk-BAP55IBU.js";import"./chunk-4IFBPCWC.js";import"./chunk-JLEYIN34.js";import"./chunk-LZOUE64L.js";import{$a as x,Ba as a,Bb as F,D as h,Oa as _,Sa as C,Ta as g,Va as f,Wa as d,X as m,Xa as u,Ya as p,Z as v,Za as i,_a as o,bb as B,cb as y,db as s,ga as P,ha as S,ib as c,jb as E,kb as T,mb as w,ya as b}from"./chunk-6VFV3J45.js";import"./chunk-2VMXMS7J.js";function U(e,n){e&1&&(i(0,"div",1)(1,"div",3),c(2,"Carregando..."),o()())}function M(e,n){e&1&&(i(0,"div",1)(1,"div",3),c(2," Erro ao carregar dados "),o()())}function j(e,n){e&1&&(i(0,"div",1)(1,"div",3),c(2,"Sem resultados"),o()())}function R(e,n){if(e&1&&(i(0,"th"),c(1),o()),e&2){let t=n.$implicit;a(),E(t)}}function V(e,n){if(e&1&&(i(0,"td"),c(1),o()),e&2){let t=n.$index,l=s().$implicit,r=s(2);a(),T(" ",r.isAndFormattedDate(l[t])," ")}}function O(e,n){if(e&1){let t=B();i(0,"button",5),y("click",function(r){P(t);let A=s().$implicit,L=s(2);return S(L.abort(A[0],r))}),x(1,"img",6),o()}if(e&2){let t=s(3);g("border-0",t.isNotLogged()),C("disabled",t.isNotLogged()),a(),C("src","static/icons/remover.png",b)}}function z(e,n){if(e&1&&(i(0,"tr"),u(1,V,2,1,"td",null,d),i(3,"td"),_(4,O,2,4,"button",4),o()()),e&2){let t=n.$implicit,l=s(2);a(),p(l.callColumns()),a(3),f(t[7]==="EXECUTANDO"?4:-1)}}function X(e,n){if(e&1&&(i(0,"table",2)(1,"thead")(2,"tr"),u(3,R,2,1,"th",null,d),x(5,"th"),o()(),i(6,"tbody"),u(7,z,5,1,"tr",null,d),o()()),e&2){let t=s();a(3),p(t.callColumns()),a(4),p(t.callsRows())}}var $=class e{pushButtonPanelStore=m(N);callsState=this.pushButtonPanelStore.callsState;callColumns=this.pushButtonPanelStore.callsColumns;callsRows=this.pushButtonPanelStore.callsRows;dataUtil=I.init();authService=m(D);modalService=m(k);isNotLogged=F(()=>!this.authService.isLogged());constructor(){this.pushButtonPanelStore.loadCalls()}isAndFormattedDate(n){return this.dataUtil.isAndFormattedDate(n)}abort(n,t){this.isNotLogged()||this.modalService.openConfirmation({title:"Confirma\xE7\xE3o",message:"Confirma remover o chamado e abortar a miss\xE3o?"}).afterClose.pipe(h(1)).subscribe(l=>l&&this.pushButtonPanelStore.abortCall(n)),t.preventDefault(),t.stopPropagation()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=v({type:e,selectors:[["app-push-button-panel-call"]],standalone:!0,features:[w],decls:7,vars:1,consts:[[1,"d-flex","justify-content-between","align-items-center"],[1,"card"],[1,"table","table-striped","table-bordered","mt-3"],[1,"card-body","d-flex","justify-content-center"],[1,"btn","d-flex","flex-column","align-items-center",3,"border-0","disabled"],[1,"btn","d-flex","flex-column","align-items-center",3,"click","disabled"],[1,"remove_icon",3,"src"]],template:function(t,l){if(t&1&&(i(0,"div",0)(1,"h3"),c(2,"Chamados Botoeiras"),o()(),_(3,U,3,0,"div",1)(4,M,3,0,"div",1)(5,j,3,0,"div",1)(6,X,9,0,"table",2)),t&2){let r;a(3),f((r=l.callsState().state)==="loading"?3:r==="error"?4:r==="noresult"?5:r==="success"?6:-1)}},styles:[".remove_icon[_ngcontent-%COMP%]{width:30px}"]})};export{$ as PushButtonPanelCallComponent};
